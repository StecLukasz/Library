<form #bookForm="ngForm">
  <button type="submit" class="float-right btn btn-primary nav- link" routerLink="/add-book" routerLinkActive="active">
    Add Book
  </button>
  <div>
    <input
      type="text"
      id="text"
      placeholder="Search"
      class="px-3 py-2 placeholder-gray-500 text-black rounded-sm ring-2 ring-gray-300 focus:ring-gray-500 focus:ring-2"
      style="border: 1px solid black"
      [(ngModel)]="search"
      name="text"
      (keyup)="onSearch()"
    />
    <button type="submit"></button>
  </div>
</form>

<table class="w-full">
  <tr class="border-b-2 border-gray-400">
    <th class="font-medium p-2 text-left">Signature</th>
    <th class="font-medium p-2 text-left">Title</th>
    <th
      class="font-medium p-2 text-left"
      class="font-medium p-2 text-left"
      (click)="toggleSortDirection()"
      [style.cursor]="sortDirection ? 'pointer' : 'auto'"
      (mouseleave)="sortDirection ? (sortDirection = sortDirection) : ''"
    >
      User
      <span *ngIf="sortDirection === 'asc'">&#x25B2;</span>
      <span *ngIf="sortDirection === 'desc'">&#x25BC;</span>
    </th>
    <th
      class="font-medium p-2 text-left"
      (click)="toggleSortDirection()"
      [style.cursor]="sortDirection ? 'pointer' : 'auto'"
      (mouseleave)="sortDirection ? (sortDirection = sortDirection) : ''"
    >
      Status
      <span *ngIf="sortDirection === 'asc'">&#x25B2;</span>
      <span *ngIf="sortDirection === 'desc'">&#x25BC;</span>
    </th>
    <th class="font-medium p-2 text-left">Edit</th>
    <th class="font-medium p-2 text-left">Delete</th>
  </tr>
  <tr class="border-b hover:bg-gray-50" *ngFor="let DTO of adminPanelDTOs">
    <td class="p-2">{{ DTO.bookSignature }}</td>
    <td class="p-2">{{ DTO.title }}</td>
    <td class="p-2">{{ DTO.username }}</td>
    <td
      class="p-2"
      [style.color]="
        DTO.status === 'borrowed'
          ? 'red'
          : DTO.status === 'reserved'
          ? 'orange'
          : DTO.status === 'ready'
          ? 'blue'
          : DTO.status === 'available'
          ? 'green'
          : 'inherit'
      "
    >
      {{ DTO.status }}
    </td>
    <td class="p-2">
      <button (click)="editBook(DTO)">Edit</button>
    </td>
    <td class="p-2">
      <button (click)="deleteBook(DTO)">Delete</button>
    </td>
  </tr>
</table>
